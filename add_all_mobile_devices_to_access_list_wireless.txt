:global checkAccessList do={
	:if ([/interface wireless access-list find where mac-address=$mac] = "") do={
		[/interface wireless access-list add authentication=no mac-address=$mac];
		:put $mac
		:put $name
	} 
}
:foreach i in=[/ip dhcp-server lease find] do={
 :local mac [/ip dhcp-server lease get $i mac-address];
 :local name [/ip dhcp-server lease get $i host-name];
 
 :if ( [:pick $name 0 7] = "android" ) do={
 	$checkAccessList mac=$mac name="Android"
 }

 :if ( [:pick $name 0 6] = "iPhone" ) do={
 	$checkAccessList mac=$mac name="iPhone" 
 }

 :if ( [:pick $name 0 4] = "iPad" ) do={
 	$checkAccessList mac=$mac name="iPad" 
 }

 :if ( [:pick $name 0 13] = "Windows-Phone" ) do={
 	$checkAccessList mac=$mac name="Windows-Phone" 
 }
}
